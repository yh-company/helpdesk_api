<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-R-8">
    <title>Agent - Ticket Details</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div id="ticket-details">
            <p style="text-align: center; padding: 20px;">Loading ticket details...</p>
        </div>
        
        <hr>

        <div class="agent-controls" style="background-color: #f9f9f9; padding: 15px; border-radius: 8px;">
            <h3>Agent Controls</h3>
            <div class="form-group">
                <label for="status-select">Change Status</label>
                <select id="status-select">
                    <option value="OPEN">Open</option>
                    <option value="IN_PROGRESS">In Progress</option>
                    <option value="CLOSED">Closed</option>
                </select>
            </div>
            <button class="btn btn-primary" id="update-ticket-btn">Update Ticket</button>
            <div id="update-message" style="margin-top: 10px;"></div>
        </div>

        <hr>

        <h3>Comments</h3>
        <div id="comments-list">
            <p>Loading comments...</p>
        </div>
        <form id="comment-form" style="margin-top: 15px;">
            <h4>Add a Reply (as Agent)</h4>
            <div class="form-group">
                <textarea id="comment-text" rows="4" required></textarea>
            </div>
            <div id="comment-message"></div>
            <button type="submit" class="btn btn-primary" id="comment-submit-btn">Submit Reply</button>
        </form>

        <a href="dashboard-agent.html" style="display: block; margin-top: 20px;">&larr; Back to queue</a>
    </div>
    <script src="js/api.js" defer></script>
    <script src="js/agent-ticket-detail.js" defer></script>
</body>
</html>